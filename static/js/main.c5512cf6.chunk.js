(this.webpackJsonpreversi=this.webpackJsonpreversi||[]).push([[0],{12:function(e,t,s){"use strict";s.r(t);var a=s(10),r=s(1),i=s(5),n=s(6),c=s(8),l=s(7),o=s(2),u=s.n(o),h=s(11),d=s.n(h),v=(s(17),s(0));function b(e){return Object(v.jsxs)("div",{className:"square",onClick:e.onClick,children:[e.isBlack?Object(v.jsx)("div",{className:"stone black"}):"",e.isWhite?Object(v.jsx)("div",{className:"stone white"}):""]})}var f=function(e){Object(c.a)(s,e);var t=Object(l.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(n.a)(s,[{key:"renderSquare",value:function(e){var t=this;return Object(v.jsx)(b,{isBlack:this.props.rowValues[e][0],isWhite:this.props.rowValues[e][1],onClick:function(){return t.props.onClick(e,t.props.rowIndex)}})}},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[this.renderSquare(0),this.renderSquare(1),this.renderSquare(2),this.renderSquare(3),this.renderSquare(4),this.renderSquare(5),this.renderSquare(6),this.renderSquare(7)]})}}]),s}(u.a.Component),p=function(e){Object(c.a)(s,e);var t=Object(l.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(n.a)(s,[{key:"renderRow",value:function(e){return Object(v.jsx)(f,{rowIndex:e,rowValues:this.props.squares[e],onClick:this.props.onClick})}},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"board-row",children:this.renderRow(0)}),Object(v.jsx)("div",{className:"board-row",children:this.renderRow(1)}),Object(v.jsx)("div",{className:"board-row",children:this.renderRow(2)}),Object(v.jsx)("div",{className:"board-row",children:this.renderRow(3)}),Object(v.jsx)("div",{className:"board-row",children:this.renderRow(4)}),Object(v.jsx)("div",{className:"board-row",children:this.renderRow(5)}),Object(v.jsx)("div",{className:"board-row",children:this.renderRow(6)}),Object(v.jsx)("div",{className:"board-row",children:this.renderRow(7)})]})}}]),s}(u.a.Component),j=function(e){Object(c.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={history:[{squares:a.createSquares()}],stepNumber:0,blackIsNext:!0,isPlaying:!1,isSingleMode:!1,cpuLevel:2,isCpuBlack:Math.random()>.5,blackIsPassed:void 0},a}return Object(n.a)(s,[{key:"createSquares",value:function(){var e=Array(8).fill().map((function(){return Array(8).fill().map((function(){return[!1,!1]}))}));return e[3][3][1]=!0,e[3][4][0]=!0,e[4][3][0]=!0,e[4][4][1]=!0,e}},{key:"handleClick",value:function(e,t){if(this.state.isPlaying){var s=this.state.history.slice(0,this.state.stepNumber+1),a=y(s[s.length-1].squares);if(!a[t][e][0]&&!a[t][e][1]&&(!this.state.isSingleMode||this.state.isCpuBlack!==this.state.blackIsNext)){var i,n=k(a,this.state.blackIsNext),c=void 0,l=Object(r.a)(n.values());try{for(l.s();!(i=l.n()).done;){var o=i.value;if(o.select.x===e&&o.select.y===t){c=o;break}}}catch(u){l.e(u)}finally{l.f()}"undefined"!==typeof c&&this.putStone(s,a,c)}}}},{key:"putCpuStone",value:function(){var e=this.state.history.slice(0,this.state.stepNumber+1),t=y(e[e.length-1].squares),s=this.selectCpuCell(this.state.cpuLevel,t,this.state.blackIsNext);this.putStone(e,t,s)}},{key:"selectCpuCell",value:function(e,t,s){var a=void 0,r=k(t,s);return 1===e?a=this.selectCpuCellLv1(r):2===e&&(a=this.selectCpuCellLv2(r)),a}},{key:"selectCpuCellLv1",value:function(e){var t=Math.floor(Math.random()*e.size);return e.get(Array.from(e.keys())[t])}},{key:"selectCpuCellLv2",value:function(e){var t=Array.from(e.keys()),s=t.filter((function(e){return"0-0"===e||"0-7"===e||"7-0"===e||"7-7"===e}));if(s.length>0){var a=Math.floor(Math.random()*s.length);return e.get(s[a])}var r=t.filter((function(e){return"0-1"!==e&&"1-0"!==e&&"1-1"!==e&&"0-6"!==e&&"1-6"!==e&&"1-7"!==e&&"6-0"!==e&&"6-1"!==e&&"7-1"!==e&&"6-6"!==e&&"6-7"!==e&&"7-6"!==e}));if(r.length>0){var i=Math.floor(Math.random()*r.length);return e.get(r[i])}return this.selectCpuCellLv1(e)}},{key:"putStone",value:function(e,t,s){var a=s.select.x,i=s.select.y;if(this.state.blackIsNext){t[i][a][0]=!0;var n,c=Object(r.a)(s.targets);try{for(c.s();!(n=c.n()).done;){var l=n.value;t[l[1]][l[0]][0]=!0,t[l[1]][l[0]][1]=!1}}catch(f){c.e(f)}finally{c.f()}}else{t[i][a][1]=!0;var o,u=Object(r.a)(s.targets);try{for(u.s();!(o=u.n()).done;){var h=o.value;t[h[1]][h[0]][0]=!1,t[h[1]][h[0]][1]=!0}}catch(f){u.e(f)}finally{u.f()}}var d=!this.state.blackIsNext,v=!0,b=void 0;0===k(t,d).size&&(0===k(t,d=!d).size?(d=void 0,v=!1):b=!this.state.blackIsNext);this.setState({history:e.concat([{squares:t}]),stepNumber:e.length,blackIsNext:d,isPlaying:v,blackIsPassed:b})}},{key:"startSingle",value:function(e){var t=Math.random()>.5;this.setState({history:[{squares:this.createSquares()}],stepNumber:0,blackIsNext:!0,isPlaying:!0,isSingleMode:!0,cpuLevel:e,isCpuBlack:t,blackIsPassed:void 0})}},{key:"startMulti",value:function(){this.setState({history:[{squares:this.createSquares()}],stepNumber:0,blackIsNext:!0,isPlaying:!0,isSingleMode:!1,cpuLevel:1,isCpuBlack:!1,blackIsPassed:void 0})}},{key:"render",value:function(){var e,t=this,s=this.state.history[this.state.stepNumber],a=0,i=0,n=Object(r.a)(s.squares);try{for(n.s();!(e=n.n()).done;){var c,l=e.value,o=Object(r.a)(l);try{for(o.s();!(c=o.n()).done;){var u=c.value;u[0]?a++:u[1]&&i++}}catch(x){o.e(x)}finally{o.f()}}}catch(x){n.e(x)}finally{n.f()}var h,d,b,f,j="Black: "+String(a),y="White: "+String(i),k=Object(v.jsx)("div",{className:"pass",children:"Pass"});return h="undefined"===typeof this.state.blackIsNext?a>i?"Winner: Black":a<i?"Winner: White":"Draw":"Next player: "+(this.state.blackIsNext?"Black":"White")+(this.state.isSingleMode&&this.state.isCpuBlack===this.state.blackIsNext?" (CPU)":""),this.state.isPlaying||(d=Object(v.jsx)("button",{className:"controller",onClick:function(){return t.startSingle(1)},children:"Start (CPU Lv1)"}),b=Object(v.jsx)("button",{className:"controller",onClick:function(){return t.startSingle(2)},children:"Start (CPU Lv2)"}),f=Object(v.jsx)("button",{className:"controller",onClick:function(){return t.startMulti()},children:"Start (Multi)"})),Object(v.jsxs)("div",{className:"game",children:[Object(v.jsxs)("div",{className:"game-board",children:[Object(v.jsx)(p,{squares:s.squares,onClick:function(e,s){return t.handleClick(e,s)}}),Object(v.jsx)("div",{children:k})]}),Object(v.jsxs)("div",{className:"game-info",children:[Object(v.jsx)("div",{children:h}),Object(v.jsx)("div",{children:j}),Object(v.jsx)("div",{children:y}),Object(v.jsx)("div",{children:d}),Object(v.jsx)("div",{children:b}),Object(v.jsx)("div",{children:f})]})]})}},{key:"componentDidUpdate",value:function(){var e=this;"undefined"!==typeof this.state.blackIsPassed&&setTimeout((function(){var e=document.querySelector(".pass");e.classList.add("pass-popup"),setTimeout((function(){e.classList.remove("pass-popup")}),1e3)}),300),this.state.isSingleMode&&this.state.isCpuBlack===this.state.blackIsNext&&setTimeout((function(){e.putCpuStone()}),1e3)}}]),s}(u.a.Component);function y(e){var t,s=[],i=Object(r.a)(e);try{for(i.s();!(t=i.n()).done;){var n=t.value;s.push(Object(a.a)(n))}}catch(c){i.e(c)}finally{i.f()}return s}function k(e,t){for(var s=new Map,a=new Map,r=[],i=0;i<8;i++){r=[];for(var n=0;n<8;n++)r.push({x:n,y:i});x(e,s,a,r),r=[];for(var c=7;c>=0;c--)r.push({x:c,y:i});x(e,s,a,r)}for(var l=0;l<8;l++){r=[];for(var o=0;o<8;o++)r.push({x:l,y:o});x(e,s,a,r),r=[];for(var u=7;u>=0;u--)r.push({x:l,y:u});x(e,s,a,r)}for(var h=-5;h<=5;h++){var d=Math.max(0,h),v=Math.max(0,-h);r=[];for(var b=0;b<8-Math.abs(h);b++)r.push({x:d+b,y:v+b});x(e,s,a,r),r=[];for(var f=7-Math.abs(h);f>=0;f--)r.push({x:d+f,y:v+f});x(e,s,a,r)}for(var p=-5;p<=5;p++){var j=7+Math.min(0,p),y=Math.max(0,p);r=[];for(var k=0;k<8-Math.abs(p);k++)r.push({x:j-k,y:y+k});x(e,s,a,r),r=[];for(var m=7-Math.abs(p);m>=0;m--)r.push({x:j-m,y:y+m});x(e,s,a,r)}return t?s:a}function x(e,t,s,i){var n,c=!1,l=!1,o=!1,u=!1,h=[],d=Object(r.a)(i);try{for(d.s();!(n=d.n()).done;){var v=n.value,b=v.x,f=v.y;if(e[f][b][0])c=!0,l&&(u=!0,l=!1,o=!1,h=[]),u&&h.push([b,f]);else if(e[f][b][1])l=!0,c&&(o=!0,c=!1,u=!1,h=[]),o&&h.push([b,f]);else{if(o||u){var p,j=String(b)+"-"+String(f),y=void 0;if((y=o?t:s).has(j))(p=y.get(j).targets).push.apply(p,Object(a.a)(h));else y.set(j,{select:v,targets:h})}c=!1,l=!1,o=!1,u=!1,h=[]}}}catch(k){d.e(k)}finally{d.f()}}d.a.render(Object(v.jsx)(j,{}),document.getElementById("root"))},17:function(e,t,s){}},[[12,1,2]]]);
//# sourceMappingURL=main.c5512cf6.chunk.js.map